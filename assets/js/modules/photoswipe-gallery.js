define(["domReady","PhotoSwipe","PhotoSwipeUI_Default"],function(e,t,n){e(function(){var e=function(e){for(var i=function(e){for(var t,n,i,r,a=e.childNodes,l=a.length,o=[],s=0;l>s;s++)if(t=a[s],1===t.nodeType){n=t.children[0],i=n.getAttribute("data-large-size").split("x"),r={src:n.getAttribute("href"),w:parseInt(i[0],10),h:parseInt(i[1],10)},t.children.length>1&&(r.title=t.children[1].innerHTML),n.children.length>0&&(r.msrc=n.children[0].getAttribute("src")),r.el=t;var d=n.getAttribute("data-medium");d&&(i=n.getAttribute("data-medium-size").split("x"),r.m={src:d,w:parseInt(i[0],10),h:parseInt(i[1],10)});var u=n.getAttribute("data-small");u&&(i=n.getAttribute("data-small-size").split("x"),r.s={src:u,w:parseInt(i[0],10),h:parseInt(i[1],10)}),r.o={src:r.src,w:r.w,h:r.h},o.push(r)}return o},r=function p(e,t){return e&&(t(e)?e:p(e.parentNode,t))},a=function(e){e=e||window.event,e.preventDefault?e.preventDefault():e.returnValue=!1;var t=e.target||e.srcElement,n=r(t,function(e){return e.tagName&&"FIGURE"===e.tagName.toUpperCase()});if(n){for(var i,a=n.parentNode,l=n.parentNode.childNodes,s=l.length,d=0,u=0;s>u;u++)if(1===l[u].nodeType){if(l[u]===n){i=d;break}d++}return i>=0&&o(i,a),!1}},l=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var n=e.split("&"),i=0;i<n.length;i++)if(n[i]){var r=n[i].split("=");r.length<2||(t[r[0]]=r[1])}return t.gid&&(t.gid=parseInt(t.gid,10)),t.hasOwnProperty("pid")?(t.pid=parseInt(t.pid,10),t):t},o=function(e,r,a){var l,o,s,d=document.querySelectorAll(".pswp")[0];s=i(r),o={index:e,galleryUID:r.getAttribute("data-pswp-uid"),zoomEl:!1,shareEl:!1,fullscreenEl:!1,getDoubleTapZoom:!1,hideAnimationDuration:0,showAnimationDuration:0,getThumbBoundsFn:function(e){var t=s[e].el.getElementsByTagName("img")[0],n=window.pageYOffset||document.documentElement.scrollTop,i=t.getBoundingClientRect();return{x:i.left,y:i.top+n,w:i.width}},addCaptionHTMLFn:function(e,t,n){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerText="",!1)}},a&&(o.showAnimationDuration=0),l=new t(d,n,s,o);var u,c,p=!0,h="";l.listen("beforeResize",function(){var e=window.devicePixelRatio?window.devicePixelRatio:1;e=Math.min(e,2.5),u=l.viewportSize.x*e,800>u?(c=!0,h="small"):u>800&&1200>u?(c=!0,h="medium"):u>=1200&&(c=!0,h="large"),c&&!p&&l.invalidateCurrItems(),p&&(p=!1),c=!1}),l.listen("gettingData",function(e,t){"large"==h?(t.src=t.o.src,t.w=t.o.w,t.h=t.o.h):"medium"==h?(t.src=t.m.src,t.w=t.m.w,t.h=t.m.h):"small"==h&&(t.src=t.s.src,t.w=t.s.w,t.h=t.s.h)}),l.init()},s=document.querySelectorAll(e),d=0,u=s.length;u>d;d++)s[d].setAttribute("data-pswp-uid",d+1),s[d].onclick=a;var c=l();c.pid>0&&c.gid>0&&o(c.pid-1,s[c.gid-1],!0)};e(".pswp-gallery-thumbs")})});