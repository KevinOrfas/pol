define(["jquery"],function(){!function(t){var i=-1,h=-1,n=function(i){var h=1,n=t(i),a=null,o=[];return n.each(function(){var i=t(this),n=i.offset().top-e(i.css("margin-top")),s=o.length>0?o[o.length-1]:null;null===s?o.push(i):Math.floor(Math.abs(a-n))<=h?o[o.length-1]=s.add(i):o.push(i),a=n}),o},e=function(t){return parseFloat(t)||0};t.fn.matchHeight=function(i){if("remove"===i){var h=this;return this.css("height",""),t.each(t.fn.matchHeight._groups,function(t,i){i.elements=i.elements.not(h)}),this}return this.length<=1?this:(i="undefined"!=typeof i?i:!0,t.fn.matchHeight._groups.push({elements:this,byRow:i}),t.fn.matchHeight._apply(this,i),this)},t.fn.matchHeight._groups=[],t.fn.matchHeight._throttle=80,t.fn.matchHeight._maintainScroll=!1,t.fn.matchHeight._apply=function(i,h){var a=t(i),o=[a],s=t(window).scrollTop(),c=t("html").outerHeight(!0);return h&&(a.each(function(){var i=t(this),h="inline-block"===i.css("display")?"inline-block":"block";i.css({display:h,"padding-top":"0","padding-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px"})}),o=n(a),a.css({display:"","padding-top":"","padding-bottom":"","border-top-width":"","border-bottom-width":"",height:""})),t.each(o,function(i,h){var n=t(h),a=0,o=n.parents().add(n).filter(":hidden");o.css({display:"block"}),n.each(function(){var i=t(this),h="inline-block"===i.css("display")?"inline-block":"block";i.css({display:h,height:""}),i.outerHeight(!1)>a&&(a=i.outerHeight(!1)),i.css({display:""})}),o.css({display:""}),n.each(function(){var i=t(this),h=0;"border-box"!==i.css("box-sizing")&&(h+=e(i.css("border-top-width"))+e(i.css("border-bottom-width")),h+=e(i.css("padding-top"))+e(i.css("padding-bottom"))),i.css("height",a-h)})}),t.fn.matchHeight._maintainScroll&&t(window).scrollTop(s/c*t("html").outerHeight(!0)),this},t.fn.matchHeight._applyDataApi=function(){var i={};t("[data-match-height], [data-mh]").each(function(){var h=t(this),n=h.attr("data-match-height")||h.attr("data-mh");n in i?i[n]=i[n].add(h):i[n]=h}),t.each(i,function(){this.matchHeight(!0)})},t.fn.matchHeight._update=function(n){if(n&&"resize"===n.type){var e=t(window).width();if(e===i)return;i=e}-1===h&&(h=setTimeout(function(){t.each(t.fn.matchHeight._groups,function(){t.fn.matchHeight._apply(this.elements,this.byRow)}),h=-1},t.fn.matchHeight._throttle))},t(t.fn.matchHeight._applyDataApi),t(window).bind("load resize orientationchange",t.fn.matchHeight._update)}(jQuery)});